{"ast":null,"code":"import axios from 'axios';\nimport { useState } from 'react';\nexport async function getToken() {\n  try {\n    const response = await axios.post('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/login');\n    return response.data.token;\n  } catch (error) {\n    console.error('Erro ao obter o token:', error);\n    throw error; // Repassa o erro para ser tratado na função que chama\n  }\n}\nexport async function fetchData() {\n  try {\n    const token = await getToken();\n    console.log('Token:', token);\n    const response = await axios.get('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/T_Shirts', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    console.log('Dados:', response.data);\n  } catch (error) {\n    console.error('Erro:', error);\n  }\n  return;\n}","map":{"version":3,"names":["axios","useState","getToken","response","post","data","token","error","console","fetchData","log","get","headers","Authorization"],"sources":["C:/Users/julio/JSrepos/projeto teste/clothing/src/Services/ApiConsumer.js"],"sourcesContent":["import axios from 'axios'\r\nimport {useState} from 'react'\r\n\r\nexport async function getToken() {\r\n    try {\r\n      const response = await axios.post('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/login');\r\n      return response.data.token;\r\n    } catch (error) {\r\n      console.error('Erro ao obter o token:', error);\r\n      throw error; // Repassa o erro para ser tratado na função que chama\r\n    }\r\n  }\r\n  \r\nexport async function fetchData() {\r\n    try {\r\n      const token = await getToken();\r\n      console.log('Token:', token);\r\n  \r\n      const response = await axios.get('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/T_Shirts', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n  \r\n      console.log('Dados:', response.data);\r\n    } catch (error) {\r\n      console.error('Erro:', error);\r\n    }\r\n    return \r\n  }\r\n  "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,QAAO,OAAO;AAE9B,OAAO,eAAeC,QAAQA,CAAA,EAAG;EAC7B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,IAAI,CAAC,8EAA8E,CAAC;IACjH,OAAOD,QAAQ,CAACE,IAAI,CAACC,KAAK;EAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK,CAAC,CAAC;EACf;AACF;AAEF,OAAO,eAAeE,SAASA,CAAA,EAAG;EAC9B,IAAI;IACF,MAAMH,KAAK,GAAG,MAAMJ,QAAQ,CAAC,CAAC;IAC9BM,OAAO,CAACE,GAAG,CAAC,QAAQ,EAAEJ,KAAK,CAAC;IAE5B,MAAMH,QAAQ,GAAG,MAAMH,KAAK,CAACW,GAAG,CAAC,iFAAiF,EAAE;MAClHC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUP,KAAK;MAChC;IACF,CAAC,CAAC;IAEFE,OAAO,CAACE,GAAG,CAAC,QAAQ,EAAEP,QAAQ,CAACE,IAAI,CAAC;EACtC,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;EAC/B;EACA;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}