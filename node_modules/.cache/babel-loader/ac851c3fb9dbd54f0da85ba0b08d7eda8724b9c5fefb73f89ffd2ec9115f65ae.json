{"ast":null,"code":"import axios from 'axios';\nexport async function getToken() {\n  try {\n    const response = await axios.post('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/login', {\n      \"UserName\": \"Julio\",\n      \"PassWord\": \"1234\"\n    });\n    return response.data.token;\n  } catch (error) {\n    console.error('Erro ao obter o token:', error);\n    throw error;\n  }\n}\nexport async function Get_TShirts() {\n  try {\n    const token = await getToken();\n    if (token) {\n      console.log('Token:', token);\n      const response = await axios.get('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/T_Shirts', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log('Dados:', response.data);\n      return response.data;\n    }\n  } catch (error) {\n    console.error('Erro:', error);\n  }\n}\n_c = Get_TShirts;\nexport async function PostRequest(clothing, type) {\n  function removeProperty(obj, propToRemove) {\n    const {\n      [propToRemove]: _,\n      ...newObj\n    } = obj;\n    return newObj;\n  }\n  const noIdEntity = removeProperty(clothing, \"id\"); // retira a prop id para ter exito na requisição\n\n  try {\n    console.log(\"TYPE: \", type);\n    console.log(\"Clothing obj:\", clothing);\n    const token = await getToken();\n    const response = await axios.post(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}`, noIdEntity, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    console.log(response.data);\n    return (await response).data;\n  } catch (error) {\n    console.error(\"Erro\", error);\n  }\n}\n_c2 = PostRequest;\nexport async function PatchRequest(clothing, type) {\n  const entityParams = {\n    \"id\": clothing.id,\n    \"name\": clothing.name || \"\",\n    \"stock\": clothing.stock || \"\",\n    \"description\": clothing.description || \"\",\n    \"size\": clothing.size || \"\",\n    \"imageurl\": clothing.imageurl || \"\"\n  };\n  console.log(\"Patch request entity params:\", entityParams);\n  try {\n    const token = await getToken();\n    const response = axios.patch(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}/${clothing.id}`, null, {\n      params: entityParams,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return (await response).data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n_c3 = PatchRequest;\nexport async function DeleteRequest(id, type) {\n  try {\n    const token = await getToken();\n    const response = axios.delete(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return (await response).data;\n  } catch (error) {\n    console.log(\"Erro na requisição delete\", error);\n    throw error;\n  }\n}\n_c4 = DeleteRequest;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Get_TShirts\");\n$RefreshReg$(_c2, \"PostRequest\");\n$RefreshReg$(_c3, \"PatchRequest\");\n$RefreshReg$(_c4, \"DeleteRequest\");","map":{"version":3,"names":["axios","getToken","response","post","data","token","error","console","Get_TShirts","log","get","headers","Authorization","_c","PostRequest","clothing","type","removeProperty","obj","propToRemove","_","newObj","noIdEntity","_c2","PatchRequest","entityParams","id","name","stock","description","size","imageurl","patch","params","_c3","DeleteRequest","delete","_c4","$RefreshReg$"],"sources":["C:/Users/julio/JSrepos/projeto teste/clothing/src/Services/ApiConsumer.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport async function getToken() {\r\n    try {\r\n      const response = await axios.post('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/login',\r\n        {\r\n            \"UserName\" : \"Julio\",\r\n            \"PassWord\" : \"1234\"\r\n        }\r\n      );\r\n      return response.data.token;\r\n    } \r\n    catch (error) {\r\n      console.error('Erro ao obter o token:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\nexport async function Get_TShirts() {\r\n    try {\r\n      const token = await getToken();\r\n\r\n      if(token)\r\n      {\r\n        console.log('Token:', token);\r\n  \r\n        const response = await axios.get('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/T_Shirts', {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        console.log('Dados:', response.data);\r\n        return response.data\r\n      }\r\n\r\n    } \r\n\r\n    catch (error) {\r\n      console.error('Erro:', error);\r\n    }\r\n}\r\n\r\nexport async function PostRequest(clothing, type) {\r\n\r\n  function removeProperty(obj, propToRemove) {\r\n    const { [propToRemove]: _, ...newObj } = obj;\r\n    return newObj;\r\n  }\r\n\r\n  const noIdEntity = removeProperty(clothing, \"id\"); // retira a prop id para ter exito na requisição\r\n\r\n  try{\r\n    console.log(\"TYPE: \", type)\r\n    console.log(\"Clothing obj:\", clothing)\r\n    const token = await getToken();\r\n    const response = await axios.post(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}`, noIdEntity, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    console.log(response.data)\r\n    return (await response).data;\r\n\r\n  }\r\n  catch(error)\r\n  {\r\n    console.error(\"Erro\", error)\r\n  }\r\n  \r\n}\r\n\r\nexport async function PatchRequest(clothing, type) {\r\n  \r\n  const entityParams = {\r\n    \"id\" : clothing.id,\r\n    \"name\" : clothing.name || \"\",\r\n    \"stock\" : clothing.stock || \"\",\r\n    \"description\" : clothing.description || \"\",\r\n    \"size\" : clothing.size || \"\",\r\n    \"imageurl\" : clothing.imageurl || \"\"\r\n  }\r\n\r\n  console.log(\"Patch request entity params:\", entityParams)\r\n  try{\r\n    const token = await getToken();\r\n    const response = axios.patch(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}/${clothing.id}`, null, {\r\n      params: entityParams,\r\n      headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      return (await response).data;\r\n  }\r\n  catch(error)\r\n  {\r\n    console.error(error)\r\n  }\r\n  \r\n}\r\n\r\nexport async function DeleteRequest(id, type)\r\n{\r\n  try{\r\n    const token = await getToken()\r\n    const response = axios.delete(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}/${id}`, { \r\n      headers: {\r\n         Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n    return (await response).data\r\n  }\r\n  catch(error)\r\n  {\r\n    console.log(\"Erro na requisição delete\", error)\r\n    throw error;\r\n  }\r\n \r\n\r\n}\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}