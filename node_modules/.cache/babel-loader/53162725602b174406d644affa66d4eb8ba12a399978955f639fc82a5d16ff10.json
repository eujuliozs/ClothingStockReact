{"ast":null,"code":"import axios from 'axios';\nexport async function getToken() {\n  try {\n    const response = await axios.post('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/login', {\n      \"UserName\": \"Julio\",\n      \"PassWord\": \"1234\"\n    });\n    return response.data.token;\n  } catch (error) {\n    console.error('Erro ao obter o token:', error);\n    throw error; // Repassa o erro para ser tratado na função que chama\n  }\n}\nexport async function Get_TShirts() {\n  try {\n    const token = await getToken();\n    if (token) {\n      console.log('Token:', token);\n      const response = await axios.get('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/T_Shirts', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log('Dados:', response.data);\n      return response.data;\n    }\n  } catch (error) {\n    console.error('Erro:', error);\n  }\n}\n_c = Get_TShirts;\nexport async function PostRequest(clothing, type) {\n  try {\n    const token = await getToken();\n    const response = await axios.post(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}`, clothing, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Erro\", error);\n  }\n}\n_c2 = PostRequest;\nexport async function PutRequest(clothing, type) {\n  console.log(type);\n  const entityParams = {\n    \"id\": clothing.id,\n    \"name\": clothing.name || \"\",\n    \"stock\": clothing.stock || \"\",\n    \"description\": clothing.description || \"\",\n    \"size\": clothing.size || \"\",\n    \"imageurl\": clothing.imageurl || \"\"\n  };\n  try {\n    const token = await getToken();\n    const response = axios.patch(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}`, {\n      params: entityParams\n    }, {\n      params: {},\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n_c3 = PutRequest;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Get_TShirts\");\n$RefreshReg$(_c2, \"PostRequest\");\n$RefreshReg$(_c3, \"PutRequest\");","map":{"version":3,"names":["axios","getToken","response","post","data","token","error","console","Get_TShirts","log","get","headers","Authorization","_c","PostRequest","clothing","type","_c2","PutRequest","entityParams","id","name","stock","description","size","imageurl","patch","params","_c3","$RefreshReg$"],"sources":["C:/Users/julio/JSrepos/projeto teste/clothing/src/Services/ApiConsumer.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport async function getToken() {\r\n    try {\r\n      const response = await axios.post('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/login',\r\n        {\r\n            \"UserName\" : \"Julio\",\r\n            \"PassWord\" : \"1234\"\r\n        }\r\n      );\r\n      return response.data.token;\r\n    } \r\n    catch (error) {\r\n      console.error('Erro ao obter o token:', error);\r\n      throw error; // Repassa o erro para ser tratado na função que chama\r\n    }\r\n  }\r\n  \r\nexport async function Get_TShirts() {\r\n    try {\r\n      const token = await getToken();\r\n\r\n      if(token)\r\n      {\r\n        console.log('Token:', token);\r\n  \r\n        const response = await axios.get('https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/T_Shirts', {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        console.log('Dados:', response.data);\r\n        return response.data\r\n      }\r\n\r\n    } \r\n\r\n    catch (error) {\r\n      console.error('Erro:', error);\r\n    }\r\n}\r\n\r\nexport async function PostRequest(clothing, type) {\r\n  try{\r\n    const token = await getToken();\r\n    const response = await axios.post(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}`, clothing, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return response.data;\r\n  }\r\n  catch(error)\r\n  {\r\n    console.error(\"Erro\", error)\r\n  }\r\n  \r\n}\r\n\r\nexport async function PutRequest(clothing, type) {\r\n  console.log(type)\r\n\r\n  const entityParams = {\r\n    \"id\" : clothing.id,\r\n    \"name\" : clothing.name || \"\",\r\n    \"stock\" : clothing.stock || \"\",\r\n    \"description\" : clothing.description || \"\",\r\n    \"size\" : clothing.size || \"\",\r\n    \"imageurl\" : clothing.imageurl || \"\"\r\n  }\r\n\r\n  try{\r\n    const token = await getToken();\r\n    const response = axios.patch(`https://clothingstock-h5gjhdesbkfyedgn.eastus-01.azurewebsites.net/api/${type}`, {params: entityParams}, {\r\n      params:\r\n      {\r\n        \r\n      },\r\n      headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      return response.data;\r\n  }\r\n  catch(error)\r\n  {\r\n    console.error(error)\r\n  }\r\n  \r\n}\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}